<div id="cart">
  <h3>Your Cart</h3>
  <% if current_user && current_user.cart.present? %>
    <ul>
      <% current_user.cart.cart_items.each do |cart_item| %>
        <li>
          <%= cart_item.product.name %> - <%= cart_item.quantity %> x <%= number_to_currency(cart_item.product.price) %>
          <%= link_to 'Remove', cart_item_path(cart_item), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-danger' %>
        </li>
      <% end %>
    </ul>
    <p><strong>Total:</strong> <%= number_to_currency(current_user.cart.total_price) %></p>
    <%= link_to 'Checkout', new_order_path, class: 'btn btn-success' %>
  <% else %>
    <p>Your cart is empty.</p>
  <% end %>
</div>
