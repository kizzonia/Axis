<!-- app/views/orders/index.html.erb -->

<div class="dashboard__main pl0-md">
  <div class="dashboard__content bgc-gmart-gray">
<div class="row pb50">
  <div class="col-lg-12">
    <div class="dashboard_title_area">
      <h2>Orders</h2>
      <p class="para">Here you can see items bought and items sold </p>
    </div>
  </div>
</div>
<%= render "accounts/topbar" %>

<div class="row">
<h2>Orders as Buyer</h2>
<% if @orders_as_buyer.any? %>
  <ul>
    <% @orders_as_buyer.each do |order| %>
      <li>
        <h3>Order #<%= order.id %></h3>
        <p><strong>Status:</strong> <%= order.status.capitalize %></p>
        <p><strong>Total:</strong> <%= number_to_currency(order.total_price) %></p>
        <p><strong>Seller:</strong> <%= order.seller.email %></p>
        <%= link_to 'View Details', order_path(order), class: 'btn btn-primary' %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>You have no orders as a buyer.</p>
<% end %>

<h2>Orders as Seller</h2>
<% if @orders_as_seller.any? %>
  <ul>
    <% @orders_as_seller.each do |order| %>
      <li>
        <h3>Order #<%= order.id %></h3>
        <p><strong>Status:</strong> <%= order.status.capitalize %></p>
        <p><strong>Total:</strong> <%= number_to_currency(order.total_price) %></p>
        <p><strong>Buyer:</strong> <%= order.user.email %></p>
        <%= link_to 'View Details', order_path(order), class: 'btn btn-primary' %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>You have no orders as a seller.</p>
<% end %>

<%= link_to 'Back to Dashboard', accounts_path, class: 'btn btn-secondary' %>
</div>
</div>
</div>
